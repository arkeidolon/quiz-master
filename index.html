<!DOCTYPE>
<html ng-app="QuizApp" ng-controller="TitleController as Title">
	<head>
		<title>{{ Title.value }}</title>
		<link rel="stylesheet" type="text/css" href="foundation.css">
		<link rel="stylesheet" type="text/css" href="main.css">
		<link rel="stylesheet" type="text/css" href="animate.css">
		<script type="text/javascript" src="angular.js"></script>
		<script type="text/javascript" src="quiz.js"></script>
	</head>
	<body ng-controller="QuestionController as Question">
		<div class="main row">
			<div class="panel radius banner">
				<div class="button difficulty no-margin-bottom"
					ng-repeat="(difficulty, q) in Question.values"
					ng-click="Question.difficulty == difficulty?
					null : Question.setDifficulty(difficulty)"
					ng-class="{
						primary: Question.difficulty == difficulty,
						secondary: Question.difficulty != difficulty,
						'left-round': $first,
						'right-round': $last
					}" id="{{'difficulty'+$index}}">
				</div>
			</div>
			<div class="panel radius white container main-content">
				<div class="row">
					<div class="column small-12">
						<div class="pagination-centered">
							<ul class="pagination" role="menubar"
									aria-label="Pagination">
								<li class="arrow" ng-class="{
									unavailable: Question.index <= 0
									}">
									<a href="#" ng-click="
										Question.index > 0?
										Question.setIndex(Question.index-1) :
										null">
										&laquo; Previous
									</a>
								</li>
								<li class="arrow unavailable"
									aria-disabled="true">
								</li>
								<li ng-repeat="index in Question.values
									[Question.difficulty] track by $index"
									ng-class="{
										current: Question.index == $index
									}">
									<a href="#"
									ng-click="Question.index == $index?
									null : Question.setIndex($index)">
										{{ $index+1 }}
									</a>
								</li>
								<li class="arrow" ng-class="{
									unavailable: Question.index >=
									Question.values[Question.difficulty]
									.length - 1
									}">
									<a href="#" ng-click="
										Question.index < Question.values
										[Question.difficulty].length-1?
										Question.setIndex(Question.index+1) :
										null">
										Next &raquo;
									</a>
								</li>
								<li>
									<div class="button left-round display-type"
										ng-click="Question.show ='info';
											Question.reset()"
										ng-class="{
											primary: Question.show == 'info',
											secondary: Question.show != 'info'
										}" id="display-type0">
										&nbsp;
									</div>
									<div class="button display-type"
										ng-click="Question.show ='question';
											Question.reset()"
										ng-class="{
											primary: Question.show == 'question',
											secondary: Question.show != 'question'
										}" id="display-type1">
										&nbsp;
									</div>
									<div class="button right-round display-type"
										ng-click="Question.show ='answer';
											Question.reset()"
										ng-class="{
											primary: Question.show == 'answer',
											secondary: Question.show != 'answer'
										}" id="display-type2">
										&nbsp;
									</div>

								</li>
							</ul>
						</div>
						<h1 ng-repeat="line in Question.getValue()
							track by $index" class="animated fadeIn">
							{{ line }}
						</h1>
						<div ng-if="Question.file" class="animated fadeIn">
							<img ng-src="{{ Question.file }}">
						</div>
						<div class="button round timer animated tada"
							ng-hide="Question.show != 'question'"
							ng-class="{
								success: Question.time > 20,
								warning: Question.time > 10
									&& Question.time <= 20,
								alert: Question.time <= 10,
								tada: ( ! Question.timer &&
									Question.time == 30) ||
									(Question.time <= 10
									&& Question.time > 0),
								infinite: Question.time < 30
									&& Question.time > 0,
								pulse: Question.timer &&
									(Question.time <= 30
									&& Question.time > 10),
								rubberband: Question.time == 0
								}"
							ng-click="Question.startTimer()">
								{{ Question.getFormattedTime() }}
						</div>
						<div ng-if="Question.timer && Question.time > 0">
							<audio loop autoplay>
								<source src="tick.mp3" type="audio/mpeg">
								Your browser does not support the audio element.
							</audio>
						</div>
						<div ng-if="Question.time == 0">
							<audio autoplay>
								<source src="alarm.mp3" type="audio/mpeg">
								Your browser does not support the audio element.
							</audio>
						</div>
					</div>
				</div>
			</div>
		</div>
	</body>
</html>
